<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://use.fontawesome.com/releases/v5.0.4/css/all.css" rel="stylesheet">
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <div class="stars"></div>
    <div class="twinkling"></div>
    <div class="clouds"></div>
    
    <div id="pane">
        <img src="rocket-cropped.svg" id="box" height="100px" weight="100px" style="transform: rotate(90deg)">
        <div class="button">
          <button id="up"><i class="fas fa-angle-up"></i></button>
          <button id="down"><i class="fas fa-angle-down"></i></button>
          <button id="left"><i class="fas fa-angle-left"></i></button>
          <button id="right"><i class="fas fa-angle-right"></i></button>
        </div>
    </div>
    
    <script>
       isActive = false;
        document.onkeydown = function (event) {
      switch (event.keyCode) {
         case 37://left
            this.isActive != this.isActive
            document.getElementById("left").classList.toggle('activeStyle',this.isActive);
            break;
         case 38://up
         this.isActive != this.isActive
            document.getElementById("up").classList.toggle('activeStyle',this.isActive);
            break;
         case 39://right
         this.isActive != this.isActive
            document.getElementById("right").classList.toggle('activeStyle',this.isActive);
            break;
         case 40://down
         this.isActive != this.isActive
            document.getElementById("down").classList.toggle('activeStyle',this.isActive);
            break;
      }
   };
        var pane = $('#pane'),
         box = $('#box'),
         maxValue = pane.width() - box.width(),
         keysPressed = {},
         distancePerIteration = 3;
     
     function calculateNewValue(oldValue, keyCode1, keyCode2) {
         var newValue = parseInt(oldValue, 10)
                        - (keysPressed[keyCode1] ? distancePerIteration : 0)
                        + (keysPressed[keyCode2] ? distancePerIteration : 0);
         return newValue < 0 ? 0 : newValue > maxValue ? maxValue : newValue;
     }
     
     $(window).keydown(function(event) { keysPressed[event.which] = true; });
     $(window).keyup(function(event) { keysPressed[event.which] = false; });
     
     setInterval(function() {
         box.css({
             left: function(index ,oldValue) {
                 return calculateNewValue(oldValue, 37, 39);
             },
             top: function(index, oldValue) {
                 return calculateNewValue(oldValue, 38, 40);
             }
         });
     }, 20);
       </script>
</body>
</html>